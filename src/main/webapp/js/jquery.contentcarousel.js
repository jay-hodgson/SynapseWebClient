(function(h){var g={navigate:function(e,d,a,c,f){var b=c.scroll,k=1,g=0;f.expanded&&(b=1,k=3,g=f.idxClicked);if(1===e)a.find("div.ca-item:lt("+b+")").each(function(b){h(this).clone(!0).css("left",(f.totalItems-g+b)*f.itemW*k+"px").appendTo(a)});else{var m=a.children().eq(0);a.find("div.ca-item:gt("+(f.totalItems-1-b)+")").each(function(c){h(this).clone(!0).css("left",-(b-c+g)*f.itemW*k+"px").insertBefore(m)})}a.find("div.ca-item").each(function(d){var a=h(this);a.stop().animate({left:1===e?"-="+f.itemW*
k*b+"px":"+="+f.itemW*k*b+"px"},c.sliderSpeed,c.sliderEasing,function(){(1===e&&a.position().left<-g*f.itemW*k||-1===e&&a.position().left>(f.totalItems-1-g)*f.itemW*k)&&a.remove();f.isAnimating=!1})})},openItem:function(e,d,a,c){c.idxClicked=d.index();c.winpos=g.getWinPos(d.position().left,c);e.find("div.ca-item").not(d).hide();d.find("div.ca-content-wrapper").css("left",c.itemW+"px").stop().animate({width:2*c.itemW+"px",left:c.itemW+"px"},a.itemSpeed,a.itemEasing).end().stop().animate({left:"0px"},
a.itemSpeed,a.itemEasing,function(){c.isAnimating=!1;c.expanded=!0;g.openItems(e,d,a,c)})},openItems:function(e,d,a,c){var f=d.index();e.find("div.ca-item").each(function(b){b=h(this);var a=b.index();a!==f&&(b.css("left",3*-(f-a)*c.itemW+"px").show().find("div.ca-content-wrapper").css({left:c.itemW+"px",width:2*c.itemW+"px"}),g.toggleMore(b,!1))})},toggleMore:function(e,d){d?e.find("a.ca-more").show():e.find("a.ca-more").hide()},closeItems:function(e,d,a,c){var f=d.index();d.find("div.ca-content-wrapper").stop().animate({width:"0px"},
a.itemSpeed,a.itemEasing).end().stop().animate({left:c.itemW*(c.winpos-1)+"px"},a.itemSpeed,a.itemEasing,function(){c.isAnimating=!1;c.expanded=!1});g.toggleMore(d,!0);e.find("div.ca-item").each(function(b){b=h(this);var a=b.index();a!==f&&(b.find("div.ca-content-wrapper").css({width:"0px"}).end().css("left",(c.winpos-1-(f-a))*c.itemW+"px").show(),g.toggleMore(b,!0))})},getWinPos:function(e,d){switch(e){case 0:return 1;case d.itemW:return 2;case 2*d.itemW:return 3}}},l={init:function(e){if(this.length){var d=
{sliderSpeed:500,sliderEasing:"easeOutExpo",itemSpeed:500,itemEasing:"easeOutExpo",scroll:1};return this.each(function(){e&&h.extend(d,e);var a=h(this),c=a.find("div.ca-wrapper"),f=c.children("div.ca-item"),b={};b.itemW=f.width();b.totalItems=f.length;3<b.totalItems&&a.prepend('<div class="ca-nav"><span class="ca-nav-prev">Previous</span><span class="ca-nav-next">Next</span></div>');1>d.scroll?d.scroll=1:3<d.scroll&&(d.scroll=3);var k=a.find("span.ca-nav-prev"),l=a.find("span.ca-nav-next");c.css("overflow",
"hidden");f.each(function(a){h(this).css({position:"absolute",left:a*b.itemW+"px"})});a.find("a.ca-more").live("click.contentcarousel",function(a){if(b.isAnimating)return!1;b.isAnimating=!0;h(this).hide();a=h(this).closest("div.ca-item");g.openItem(c,a,d,b);return!1});a.find("a.ca-close").live("click.contentcarousel",function(a){if(b.isAnimating)return!1;b.isAnimating=!0;a=h(this).closest("div.ca-item");g.closeItems(c,a,d,b);return!1});k.bind("click.contentcarousel",function(e){if(b.isAnimating)return!1;
b.isAnimating=!0;g.navigate(-1,a,c,d,b)});l.bind("click.contentcarousel",function(e){if(b.isAnimating)return!1;b.isAnimating=!0;g.navigate(1,a,c,d,b)});a.bind("mousewheel.contentcarousel",function(e,f){if(0<f){if(b.isAnimating)return!1;b.isAnimating=!0;g.navigate(-1,a,c,d,b)}else{if(b.isAnimating)return!1;b.isAnimating=!0;g.navigate(1,a,c,d,b)}return!1})})}}};h.fn.contentcarousel=function(e){if(l[e])return l[e].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof e&&e)h.error("Method "+
e+" does not exist on jQuery.contentcarousel");else return l.init.apply(this,arguments)}})(jQuery);
