package org.sagebionetworks.web.client.widget.entity;import java.util.HashMap;import org.sagebionetworks.web.client.EntityTypeProvider;import org.sagebionetworks.web.client.IconsImageBundle;import org.sagebionetworks.web.client.DisplayUtils.IconSize;import org.sagebionetworks.web.client.widget.entity.browse.EntityTreeBrowser;import org.sagebionetworks.web.shared.WebConstants;import com.google.gwt.resources.client.ImageResource;import com.google.inject.Inject;public class EntityIconsCache {	private HashMap<String, ImageResource> typeToIcon = new HashMap<String, ImageResource>();	private EntityTypeProvider entityTypeProvider;	private IconsImageBundle iconsImageBundle;	@Inject	public EntityIconsCache(EntityTypeProvider entityTypeProvider, IconsImageBundle iconsImageBundle) {		this.entityTypeProvider = entityTypeProvider;		this.iconsImageBundle = iconsImageBundle;	}		public ImageResource getIconForType(String type) {		ImageResource icon = null;		if(typeToIcon.containsKey(type)) {			icon = typeToIcon.get(type);		} else {			if (WebConstants.CHALLENGE_PROJECT_ICON_KEY.equals(type)) {				icon = iconsImageBundle.challengeProject16();			}			else { 				icon = EntityTreeBrowser.getIconForType(type, entityTypeProvider, iconsImageBundle);			}			typeToIcon.put(type, icon);		}						return icon;	}}